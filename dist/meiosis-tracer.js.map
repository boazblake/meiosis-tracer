{"version":3,"sources":["webpack://meiosisTracer/webpack/universalModuleDefinition","webpack://meiosisTracer/webpack/bootstrap","webpack://meiosisTracer/./src/index.js","webpack://meiosisTracer/./src/meiosis-tracer.js","webpack://meiosisTracer/./src/model.js","webpack://meiosisTracer/./src/receive.js","webpack://meiosisTracer/./src/view.js"],"names":["module","exports","meiosisTracer","window","isMeiosisTracerOn","trace","params","update","dataStreams","Error","toJS","JSON","parse","stringify","model","fromJS","toUpdate","bufferedValues","bufferedStreamValues","devtoolInitialized","sendValues","liveChange","lastStream","length","otherStreamIds","otherStreamsById","otherStreams","forEach","streamId","Date","getTime","push","otherStream","map","data","type","value","postMessage","addEventListener","evt","sendValuesBack","streamIds","values","stream","selector","renderModel","triggerStreamValue","horizontal","rows","cols","target","document","querySelector","accumulateHistory","receiveValues","tracerModel","initStreamIdModel","streams","index","receiveStreamValue","streamState","reset","tracerStates","tracerIndex","createReceiveValues","view","tracerContainerId","dataStreamContainerId","otherStreamContainerId","tracerId","tracerToggleId","tracerResetId","tracerIndexId","tracerStepBackId","tracerStepForwardId","tracerAccumulHistoryId","tracerRefreshViewId","tracerModelId","errorMessageId","errorMessage","divStyle","setAccumulateHistory","createTracerView","setter","tracerView","tracer","getElementById","setAttribute","String","disabled","innerHTML","tracerModelEl","streamValueDivs","querySelectorAll","streamValueDivsMarkup","i","t","streamTextareas","onRefresh","style","display","err","onSliderChange","parseInt","snapshot","onStreamSliderChange","streamModel","updateStreamValue","onStreamValueChange","textarea","onToggle","button","tracerContainer","onReset","initialView","irows","icols","viewHtml","Math","max","min","initStreamIds","container","input","getElementsByTagName","div"],"mappings":"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","file":"meiosis-tracer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"meiosisTracer\"] = factory();\n\telse\n\t\troot[\"meiosisTracer\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import { meiosisTracer } from \"./meiosis-tracer\"\n\n/*\n1. Live change\n- receive values from meiosis with update=true. This will add to the tracer's history\n  and increase the slider max.\n- re-render the tracer view with update=true.\n\n2. Time-travel change\n- send MEIOSIS_RENDER_MODEL with sendValuesBack=false\n- we already have the values in the snapshot, so don't need anything back\n- re-render the tracer view with update=false.\n\n3. Typing in model textarea\n- send MEIOSIS_RENDER_MODEL with sendValuesBack=true. The tracer needs to get\n  the computed values from the other streams.\n- receive values from meiosis with update=false so this will not add to the tracer's history.\n- re-render the tracer view with update=false.\n*/\n\nmodule.exports = meiosisTracer\n","import { tracerModel } from \"./model\"\nimport { initialView, createTracerView, initStreamIds, updateStreamValue, reset } from \"./view\"\nimport { createReceiveValues } from \"./receive\"\n\nwindow[\"__MEIOSIS_TRACER_GLOBAL_HOOK__\"] = true\n\nfunction isMeiosisTracerOn() {\n  return window && window[\"__MEIOSIS_TRACER_GLOBAL_HOOK__\"]\n}\n\n/*\n  update: Stream<any>\n  dataStreams: Array<Stream<any>>\n  otherStreams?: Array<Stream<any>>\n  toJS?: Function\n  fromJS?: Function\n  toUpdate?: Function\n*/\nfunction trace(params) {\n  if (!params.update || !params.dataStreams) {\n    throw new Error(\"Please specify update and dataStreams.\")\n  }\n\n  /*\n  Any change to lastStream automatically re-renders the view.\n\n  \"Live\" changes are changes to the update stream.\n\n  Keep track of the date of the last live change with the liveChange date.\n\n  1. Live change\n  - update the liveChange date\n  - since liveChange !== lastChange, update=true\n  - set lastChange = liveChange\n  - send values to tracer with update=true. This will add to the tracer's history\n    and increase the slider max.\n\n  2. Time-travel change\n  - receive MEIOSIS_RENDER_MODEL with sendValuesBack=false\n  - send the data to the first stream, which then goes thru all streams\n  - the view automatically re-renders\n  - since liveChange === lastChange, update=false\n  - don't send anything back to the tracer.\n\n  3. Typing in model textarea\n  - receive MEIOSIS_RENDER_MODEL with sendValuesBack=true. The tracer needs to be\n    sent the computed values from the other streams.\n  - send the data to the first stream, which then goes thru all streams\n  - the view automatically re-renders\n  - since liveChange === lastChange, update=false\n  - since sendValuesBack=true, send the values to the tracer. But, update=false so\n    this will not add to the tracer's history.\n\n  4. Changes in otherStreams\n  - initially send the ids of the streams\n  - send new values with ids\n  */\n\n  if (isMeiosisTracerOn()) {\n    const toJS = params.toJS || (model => JSON.parse(JSON.stringify(model)))\n    const fromJS = params.fromJS || (model => model)\n    const toUpdate = params.toUpdate || (model => () => model)\n    const bufferedValues = []\n    const bufferedStreamValues = []\n    let devtoolInitialized = false\n    let sendValues = true\n\n    let liveChange = true\n\n    const lastStream = params.dataStreams[params.dataStreams.length - 1]\n\n    const otherStreamIds = []\n    const otherStreamsById = {}\n\n    if (params.otherStreams && params.otherStreams.length) {\n      params.otherStreams.forEach(otherStream => {\n        const streamId = \"stream_\" + new Date().getTime()\n        otherStreamIds.push(streamId)\n        otherStreamsById[streamId] = otherStream\n\n        otherStream.map(value => {\n          const data = { type: \"MEIOSIS_STREAM_VALUE\", value, streamId }\n\n          if (devtoolInitialized) {\n            window.postMessage(data, \"*\")\n          }\n          else {\n            bufferedStreamValues.push(data)\n          }\n        })\n      })\n    }\n\n    window.addEventListener(\"message\", evt => {\n      if (evt.data.type === \"MEIOSIS_RENDER_MODEL\") {\n        sendValues = evt.data.sendValuesBack\n        liveChange = false\n        params.update(toUpdate(fromJS(evt.data.model)))\n      }\n      else if (evt.data.type === \"MEIOSIS_TRACER_INIT\") {\n        devtoolInitialized = true\n\n        if (otherStreamIds.length > 0) {\n          window.postMessage({ type: \"MEIOSIS_STREAM_IDS\", streamIds: otherStreamIds }, \"*\")\n        }\n        bufferedValues.forEach(values =>\n          window.postMessage({ type: \"MEIOSIS_VALUES\", values, update: true }, \"*\"))\n        bufferedStreamValues.forEach(data => window.postMessage(data, \"*\"))\n      }\n      else if (evt.data.type === \"MEIOSIS_TRIGGER_STREAM_VALUE\") {\n        const streamId = evt.data.streamId\n        const value = evt.data.value\n\n        otherStreamsById[streamId](value)\n      }\n    })\n\n    lastStream.map(() => {\n      if (sendValues || liveChange) {\n        const values = params.dataStreams.map(stream =>\n          ({ value: toJS(stream()) }))\n\n        if (devtoolInitialized) {\n          window.postMessage({ type: \"MEIOSIS_VALUES\", values, update: true }, \"*\")\n        }\n        else {\n          bufferedValues.push(values)\n        }\n      }\n      liveChange = true\n    })\n\n    // Send ping in case tracer was already loaded.\n    window.postMessage({ type: \"MEIOSIS_PING\" }, \"*\")\n  }\n}\n\nconst meiosisTracer = params => {\n  trace(params)\n\n  let { selector, renderModel, triggerStreamValue, horizontal, rows, cols } = params\n\n  const target = document.querySelector(selector)\n\n  if (!target) {\n    return\n  }\n\n  let accumulateHistory = true\n\n  const receiveValues = createReceiveValues(tracerModel, createTracerView(value => {\n    accumulateHistory = value\n  }))\n\n  renderModel = renderModel || ((model, sendValuesBack) =>\n    window.postMessage({ type: \"MEIOSIS_RENDER_MODEL\", model, sendValuesBack }, \"*\"))\n\n  initialView(selector, tracerModel, renderModel, horizontal, rows, cols)\n\n  triggerStreamValue = triggerStreamValue || ((streamId, value) =>\n    window.postMessage({ type: \"MEIOSIS_TRIGGER_STREAM_VALUE\", streamId, value }, \"*\"))\n\n  const initStreamIdModel = (streamIds) => {\n    streamIds.forEach(streamId =>\n      tracerModel.streams[streamId] = { index: 0, values: [] }\n    )\n    initStreamIds(streamIds, tracerModel.streams, triggerStreamValue, rows, cols)\n  }\n\n  const receiveStreamValue = (streamId, value) => {\n    const streamState = tracerModel.streams[streamId]\n\n    streamState.values.push(value)\n    streamState.index = streamState.values.length - 1\n\n    updateStreamValue(streamId, streamState)\n  }\n\n  window.addEventListener(\"message\", evt => {\n    if (evt.data.type === \"MEIOSIS_VALUES\") {\n      receiveValues(evt.data.values, accumulateHistory && evt.data.update)\n    }\n    else if (evt.data.type === \"MEIOSIS_STREAM_IDS\") {\n      const streamIds = evt.data.streamIds\n      initStreamIdModel(streamIds)\n    }\n    else if (evt.data.type === \"MEIOSIS_STREAM_VALUE\") {\n      receiveStreamValue(evt.data.streamId, evt.data.value)\n    }\n  })\n\n  window.postMessage({ type: \"MEIOSIS_TRACER_INIT\" }, \"*\")\n\n  return {\n    receiveValues,\n    initStreamIdModel,\n    receiveStreamValue,\n    reset: () => reset(tracerModel)\n  }\n}\n\nexport { meiosisTracer }\n","const tracerModel = {\n  tracerStates: [],\n  tracerIndex: 0,\n  streams: { } // id: { index: N, values: [] }\n}\n\nexport { tracerModel }\n","const createReceiveValues = (tracerModel, view) => (values, update) => {\n  if (update) {\n    if (tracerModel.tracerStates.length > 0) {\n      tracerModel.tracerStates.length = tracerModel.tracerIndex + 1\n    }\n    tracerModel.tracerStates.push(values)\n    tracerModel.tracerIndex = tracerModel.tracerStates.length - 1\n  }\n  view(values, tracerModel)\n}\n\nexport { createReceiveValues }\n","const tracerContainerId = \"tracerContainer\"\nconst dataStreamContainerId = \"dataStreamContainer\"\nconst otherStreamContainerId = \"otherStreamContainer\"\nconst tracerId = \"tracerSlider\"\nconst tracerToggleId = \"tracerToggle\"\nconst tracerResetId = \"tracerReset\"\nconst tracerIndexId = \"tracerIndex\"\nconst tracerStepBackId = \"tracerStepBack\"\nconst tracerStepForwardId = \"tracerStepForward\"\nconst tracerAccumulHistoryId = \"tracerAccumulHistory\"\nconst tracerRefreshViewId = \"tracerRefreshView\"\nconst tracerModelId = \"tracerModel\"\nconst errorMessageId = \"errorMessage\"\nlet errorMessage = null\nlet divStyle = null\nlet rows = 0\nlet cols = 0\nlet setAccumulateHistory = null\nlet accumulateHistory = true\n\nconst createTracerView = setter => {\n  setAccumulateHistory = setter\n  return tracerView\n}\n\nconst tracerView = (values, tracerModel) => {\n  const tracer = document.getElementById(tracerId)\n  tracer.setAttribute(\"max\", String(tracerModel.tracerStates.length - 1))\n  tracer.value = String(tracerModel.tracerIndex)\n  document.getElementById(tracerStepBackId).disabled = (tracerModel.tracerIndex === 0)\n  document.getElementById(tracerStepForwardId).disabled =\n    (tracerModel.tracerIndex === (tracerModel.tracerStates.length - 1))\n\n  const tracerIndex = document.getElementById(tracerIndexId)\n  tracerIndex.innerHTML = String(tracerModel.tracerIndex)\n\n  const tracerModelEl = document.getElementById(tracerModelId)\n  tracerModelEl.value = JSON.stringify(values[0].value, null, 4)\n\n  var streamValueDivs = document.querySelectorAll(\"div.dataStream\")\n\n  if (streamValueDivs.length === 0) {\n    var streamValueDivsMarkup = \"\"\n\n    for (var i = 1, t = values.length; i < t; i++) {\n      streamValueDivsMarkup +=\n        \"<div\" + divStyle + \" class='dataStream'>\" +\n          \"<textarea rows='\" + rows + \"' cols='\" + cols + \"'></textarea>\" +\n        \"</div>\"\n    }\n    document.getElementById(dataStreamContainerId).innerHTML = streamValueDivsMarkup\n  }\n\n  var streamTextareas = document.querySelectorAll(\"div.dataStream textarea\")\n\n  for (i = 1, t = values.length; i < t; i++) {\n    streamTextareas[i - 1].value = JSON.stringify(values[i].value, null, 4)\n  }\n}\n\nconst onRefresh = renderModel => {\n  try {\n    const value = document.getElementById(tracerModelId).value\n    const model = JSON.parse(value)\n    renderModel(model, true)\n    errorMessage.style.display = \"none\"\n  }\n  catch (err) {\n    errorMessage.style.display = \"block\"\n  }\n}\n\nconst onSliderChange = (renderModel, tracerModel) => evt => {\n  const index = parseInt(evt.target.value, 10)\n  const snapshot = tracerModel.tracerStates[index]\n  tracerModel.tracerIndex = index\n  const model = snapshot[0].value\n  renderModel(model, false)\n  tracerView(snapshot, tracerModel)\n}\n\nconst onStreamSliderChange = (streamModel, streamId) => evt => {\n  const streamState = streamModel[streamId]\n  const index = parseInt(evt.target.value, 10)\n\n  streamState.index = index\n\n  updateStreamValue(streamId, streamState)\n}\n\nconst onStreamValueChange = (streamId, textarea, triggerStreamValue) => () => {\n  try {\n    const value = JSON.parse(textarea.value)\n    triggerStreamValue(streamId, value)\n    errorMessage.style.display = \"none\"\n  }\n  catch (err) {\n    errorMessage.style.display = \"block\"\n  }\n}\n\nconst onToggle = tracerContainer => evt => {\n  const button = evt.target\n\n  if (tracerContainer.style.display === \"none\") {\n    tracerContainer.style.display = \"block\"\n    button.innerHTML = \"Hide\"\n  }\n  else {\n    tracerContainer.style.display = \"none\"\n    button.innerHTML = \"Show\"\n  }\n}\n\nconst onReset = tracerModel => () => {\n  reset(tracerModel)\n}\n\nconst reset = (tracerModel) => {\n  const snapshot = tracerModel.tracerStates[0]\n  tracerModel.tracerStates.length = 0\n  tracerModel.tracerIndex = 0\n  tracerView(snapshot, tracerModel)\n}\n\nconst initialView = (selector, tracerModel, renderModel, horizontal, irows=5, icols=40) => {\n  const target = document.querySelector(selector)\n  rows = irows\n  cols = icols\n\n  if (target) {\n    divStyle = horizontal ? \" style='float: left'\" : \"\"\n\n    const viewHtml =\n      \"<div style='text-align: right'><button id='\" + tracerToggleId + \"'>Hide</button></div>\" +\n      \"<div id='\" + tracerContainerId + \"'>\" +\n        \"<div style='text-align: right'><button id='\" + tracerResetId + \"'>Reset</button></div>\" +\n        \"<div>Data streams:</div>\" +\n        \"<input id='\" + tracerId + \"' type='range' min='0' max='\" +\n          String(tracerModel.tracerStates.length - 1) +\n          \"' value='\" + String(tracerModel.tracerIndex) + \"' style='width: 100%'/>\" +\n        \"<button id='\" + tracerStepBackId + \"'>&lt</button> <button id='\" + tracerStepForwardId + \"'>&gt</button> \" +\n        \"<span id='\" + tracerIndexId + \"'>\" + String(tracerModel.tracerIndex) + \"</span>\" +\n        \"<label><input style='margin-left: 16px' type='checkbox' id='\" + tracerAccumulHistoryId + \"' checked/>Accumulate history</label>\" +\n        \"<div\" + divStyle + \">\" +\n          \"<div>\" +\n            \"<span>Model: (type into this box) </span>\" +\n            \"<button style='margin-bottom: 4px' id='\" + tracerRefreshViewId + \"'>Refresh view</button>\" +\n          \"</div>\" +\n          \"<textarea id='\" + tracerModelId + \"' rows='\" + rows + \"' cols='\" + cols + \"'></textarea>\" +\n          \"<div id='\" + errorMessageId + \"' style='display: none'><span style='color:red'>Invalid JSON</span></div>\" +\n        \"</div>\" +\n        \"<span id='\" + dataStreamContainerId + \"'></span>\" +\n        \"<span id='\" + otherStreamContainerId + \"'></span>\" +\n      \"</div>\"\n\n    target.innerHTML = viewHtml\n\n    const tracerContainer = document.getElementById(tracerContainerId)\n    errorMessage = document.getElementById(errorMessageId)\n\n    document.getElementById(tracerId).addEventListener(\"input\", onSliderChange(renderModel, tracerModel))\n    document.getElementById(tracerToggleId).addEventListener(\"click\", onToggle(tracerContainer))\n    document.getElementById(tracerResetId).addEventListener(\"click\", onReset(tracerModel))\n    document.getElementById(tracerStepBackId).addEventListener(\"click\", function() {\n      onSliderChange(renderModel, tracerModel)(\n        { target: { value: Math.max(0, tracerModel.tracerIndex - 1) }})\n    })\n    document.getElementById(tracerStepForwardId).addEventListener(\"click\", function() {\n      onSliderChange(renderModel, tracerModel)(\n        { target: { value: Math.min(tracerModel.tracerStates.length - 1, tracerModel.tracerIndex + 1) }})\n    })\n    document.getElementById(tracerRefreshViewId).addEventListener(\"click\", function() {\n      onRefresh(renderModel)\n    })\n    document.getElementById(tracerAccumulHistoryId).addEventListener(\"change\", function() {\n      accumulateHistory = !accumulateHistory\n      setAccumulateHistory(accumulateHistory)\n    })\n  }\n}\n\nconst initStreamIds = (streamIds, streamModel, triggerStreamValue, rows=5, cols=40) => {\n  var streamValueDivsMarkup = \"<div>Other streams:</div>\"\n\n  streamIds.forEach(streamId =>\n    streamValueDivsMarkup +=\n      \"<div\" + divStyle + \" class='otherStream' id='\" + streamId + \"'>\" +\n        \"<input type='range' min='0' max='0' value='0' style='width: 100%'/>\" +\n        \"<div>0</div>\" +\n        \"<textarea rows='\" + rows + \"' cols='\" + cols + \"'></textarea>\" +\n        \"<div><button>Trigger</button></div>\" +\n      \"</div>\"\n  )\n  document.getElementById(otherStreamContainerId).innerHTML = streamValueDivsMarkup\n\n  streamIds.forEach(streamId => {\n    const container = document.getElementById(streamId)\n\n    const input = container.getElementsByTagName(\"input\")[0]\n    input.addEventListener(\"input\", onStreamSliderChange(streamModel, streamId))\n\n    const button = container.getElementsByTagName(\"button\")[0]\n    const textarea = container.getElementsByTagName(\"textarea\")[0]\n    button.addEventListener(\"click\", onStreamValueChange(streamId, textarea, triggerStreamValue))\n  })\n}\n\nconst updateStreamValue = (streamId, streamState) => {\n  const container = document.getElementById(streamId)\n  const textarea = container.getElementsByTagName(\"textarea\")[0]\n  const input = container.getElementsByTagName(\"input\")[0]\n  const div = container.getElementsByTagName(\"div\")[0]\n\n  textarea.value = JSON.stringify(streamState.values[streamState.index], null, 4)\n  input.setAttribute(\"max\", String(streamState.values.length - 1))\n  input.value = String(streamState.index)\n  div.innerHTML = String(streamState.index)\n}\n\nexport { initialView, createTracerView, reset, initStreamIds, updateStreamValue }\n"],"sourceRoot":""}